(this.webpackJsonpcial_front=this.webpackJsonpcial_front||[]).push([[0],{122:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"loadSearchHistory",(function(){return C})),a.d(n,"searchData",(function(){return Q})),a.d(n,"setSearchQuery",(function(){return w}));var r=a(0),c=a.n(r),i=a(8),o=a.n(i),s=(a(99),a(17)),l=a(18),u=a(38),h=a(35),d=a(39),p=a(36),y=a(15),m=function(e,t){return{type:e,data:t}},f=a(42),O=a.n(f),b=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"searchData",value:function(e){return O.a.get("/api/search",{params:{q:e}})}},{key:"searchDataPOST",value:function(e){return O.a.post("/api/search",{params:e})}}]),e}(),g=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"getHistoryList",value:function(){return O.a.get("/api/history")}}]),e}(),v="SEARCH_DATA_RESPONSE",E="PRESERVE_SEARCH_HISTORY",S="SET_SEARCH_HISTORY",j="SET_SEARCH_QUERY",k="SET_SEARCH_LOADING",A="SET_SIDEBAR_LOADING";function C(){return function(e){e(m(A,!0)),g.getHistoryList().then((function(t){var a=t.data;a.ok&&Array.isArray(a.history)&&a.history.length>0&&e(m(S,a.history)),e(m(A,!1))})).catch((function(t){e(m(A,!1))}))}}function Q(e){return function(t){return t(m(k,!0)),t(m(j,e)),b.searchData(e).then((function(a){var n=a.data;n.ok&&(t(m(E,e)),t(m(v,n.array))),t(m(k,!1))})).catch((function(e){t(m(k,!1))}))}}function w(e){return m(j,e)}a(122);var R=a(174),_=a(170),H=a(177),I=function(e){return c.a.createElement(_.a,{color:"textSecondary"},c.a.createElement(H.a,{onClick:e.handleOnClick},e.query))},L=a(172),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderHistoryList=function(e){return c.a.createElement("div",null,e.history&&0===e.history.length?"Nothing":e.history.map((function(t){return c.a.createElement(I,{key:"".concat(t).concat(Math.random()),handleOnClick:function(){return e.handleQuerySearch(t)},query:t})})))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h4",null,"Recently searched"),this.props.loading?c.a.createElement(L.a,null):this.renderHistoryList(this.props))}}]),t}(r.Component),x=a(173),D=a(83),P=a.n(D),T=a(175),K=a(79),W=function(e){return c.a.createElement(_.a,{color:"textSecondary",align:"justify"},c.a.createElement("p",null,c.a.createElement("a",{href:e.url},e.title)))},B=Object(x.a)((function(e){return{contentWrapper:{margin:"40px 16px"}}})),U=function(e){var t=B();return c.a.createElement("div",{className:t.contentWrapper},e.loading?c.a.createElement(L.a,null):function(e){return c.a.createElement("div",null,e.results&&0===e.results.length?"No results":e.results.map((function(e){return c.a.createElement(W,{url:e.url,title:e.title})})))}(e))},q=a(82),Y=a.n(q),z=a(176),G=Object(x.a)((function(e){return{searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},search:{marginRight:e.spacing(1)}}})),J=function(e){var t=G();return c.a.createElement(R.a,{container:!0,spacing:2},c.a.createElement(R.a,{item:!0},c.a.createElement(Y.a,{className:t.block,color:"inherit"})),c.a.createElement(R.a,{item:!0,xs:!0},c.a.createElement(z.a,{onKeyPress:e.handleOnKeyPress,onChange:e.handleOnChange,fullWidth:!0,placeholder:"What you are searching for...",InputProps:{disableUnderline:!0,className:t.searchInput},value:e.value})),c.a.createElement(R.a,{item:!0},c.a.createElement(H.a,{variant:"contained",color:"primary",className:t.search,onClick:e.handleOnSubmit},"Search")))},M=Object(x.a)((function(e){return{paper:{marginTop:"25px",maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),V=function(e){var t=M();return c.a.createElement(K.a,{className:t.paper},c.a.createElement(P.a,{className:t.searchBar,position:"static",color:"default",elevation:0},c.a.createElement(T.a,null,c.a.createElement(J,{value:e.value,handleOnKeyPress:e.handleOnKeyPress,handleOnSubmit:e.handleOnSubmit,handleOnChange:e.handleOnChange}))),c.a.createElement(U,{results:e.results,loading:e.loading}))},$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleOnChange=function(e){(0,a.props.searchActions.setSearchQuery)(e.target.value)},a.handleOnSubmit=function(e){e.preventDefault(),a.props.handleQuerySearch(a.props.search.searchQuery)},a.handleOnKeyPress=function(e){"Enter"===e.key&&a.props.handleQuerySearch(a.props.search.searchQuery)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.search,t=e.searchQuery,a=e.result;return c.a.createElement(V,{loading:this.props.ui.searchLoading,results:a,value:t,handleOnSubmit:this.handleOnSubmit,handleOnChange:this.handleOnChange,handleOnKeyPress:this.handleOnKeyPress})}}]),t}(r.Component),F=Object(p.b)((function(e){return{search:e.Search,ui:e.UI}}),(function(e){return{searchActions:Object(y.b)(n,e)}}))($),X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleQuerySearch=function(e){(0,a.props.searchActions.searchData)(e)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.search&&this.props.search.history&&0===this.props.search.history.length&&(0,this.props.searchActions.loadSearchHistory)()}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(R.a,{container:!0,spacing:1,justify:"center"},c.a.createElement(R.a,{item:!0,xs:12,sm:3},c.a.createElement(N,{loading:this.props.ui.sidebarLoading,handleQuerySearch:this.handleQuerySearch,history:this.props.search.history})),c.a.createElement(R.a,{item:!0,xs:11,sm:6},c.a.createElement(F,{handleQuerySearch:this.handleQuerySearch}))))}}]),t}(r.Component),Z=Object(p.b)((function(e){return{search:e.Search,ui:e.UI}}),(function(e){return{searchActions:Object(y.b)(n,e)}}))(X);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(20),te=a(84),ae=a.n(te),ne=a(85),re=a(56),ce={searchQuery:"",result:[],history:[]};var ie={searchLoading:!1,sidebarLoading:!1};var oe={Search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(ee.a)({},e,{result:t.data});case E:var a=Object(re.a)(e.history);return a.length>9&&a.splice(0,1),a.push(t.data),Object(ee.a)({},e,{history:a});case S:var n=Object(re.a)(t.data);return n.length>10&&n.splice(0,n.length-10),Object(ee.a)({},e,{history:n});case j:return Object(ee.a)({},e,{searchQuery:t.data});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(ee.a)({},e,{searchLoading:t.data});case A:return Object(ee.a)({},e,{sidebarLoading:t.data});default:return e}}},se=Object(y.c)(Object(ee.a)({},oe)),le=[ne.a,ae.a],ue=Object(y.e)(se,Object(y.d)(y.a.apply(void 0,le)));o.a.render(c.a.createElement(p.a,{store:ue},c.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},94:function(e,t,a){e.exports=a(144)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.7f5707d1.chunk.js.map